<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=11">
  <title>Poll component</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script src="./public/node_modules/core-js/client/core.min.js"></script>
  <script src="./public/node_modules/core-js/client/library.min.js"></script>
  <script src="./public/node_modules/core-js/client/shim.min.js"></script>

  <script src="./dist/polyfill.js"></script>

  <script type="text/javascript" src="./public/node_modules/@webcomponents/webcomponentsjs/webcomponents-bundle.js"></script>

  <script>if (!window.customElements) { document.write('<!--'); }</script>
  <script type="text/javascript" src="./public/node_modules/@webcomponents/webcomponentsjs/custom-elements-es5-adapter.js"></script>
  <!--! do not remove -->

  <link href="./dist/index.css" rel="stylesheet" />

  <script src="./dist/index.js"></script>
  <script src="./dist/embedded.js"></script>

  <script>
    function onLoad(){
      const withPoll = window.WCPoll.mixins.withPoll
      const combine = window.WCPoll.mixins.combineMixins

      const embeddedPoll = window.WCEmbed.Poll

      const pollData = {
        text: 'What\'s the largest desert in the World?',
        total: 10,
        list: [{
          label: 'Sahara',
          name: 'desert',
          value: 'Sahara',
          count: 5,
        },{
          label: 'Gobi',
          name: 'desert',
          value: 'Gobi',
          count: 4,
        },{
          label: 'Karakum',
          name: 'desert',
          value: 'Karakum',
          count: 1,
        },{
          label: 'Mojave',
          name: 'desert',
          value: 'Mojave',
          count: 0
        }],
      }

      const applyTo = combine([
        [withPoll, pollData]
      ])

      window.customElements.define('wc-poll', applyTo(embeddedPoll))
    }

    window.onload = onLoad
  </script>
</head>
<body>
  <div style="width:50%;">
    <h2>Poll</h2>
    <wc-poll></wc-poll>
  </div>
</body>
</html>
